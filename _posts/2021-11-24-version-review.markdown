---
layout:     post
title:      "版本回顾"
subtitle:   ""
date:       2021-11-24
author:     "CSoap"
header-img: "img/home-bg-o.jpg"
tags:
    - 其它
---

# 版本回顾
> 记录一下版本负责内容以及一些值得反思的地方

- projectK
    - 19.0
        - 尼伯龙根的宝藏（竞品:某芝麻官的皇陵）
            - 大量item + 特效同界面
                - 减少节点创建
                - 特效回收
    - 19.1
        - 星空之卷（战令）
            - 策划需求与滑动组件支持功能不匹配
                - 选择组件时候先于策划美术确认好表现需求
    - 19.2
        - 龙岛秘境（竞品：某芝麻官的京城）
            - 大量item同界面
                - 减少节点，不使用ContentSizeFitter等组件（性能差），脚本实现item高度计算即可
                - 配表数据缓存，避免多次计算
    - 19.3
        - 雅典学院（竞品：某大掌柜的敦煌石窟）
        - 通用活动入口支持组队+跨服活动
    - 19.4
        - 轮盘抽奖（竞品：哈利波特的轮盘）
            - 不同UI贴图在同一节点下会打断batch，将相同UI贴图放在同一节点，方便合批
        - 战车大赛玩法优化
        - 舞会新增男模型
            - 漏了检查：模型贴图大小是否符合规格，animator关联动画绑定错误
        - 获取途径新增节日活动，处理这个功能的时候考虑欠缺，直接打补丁支持。
            - 新增功能点切记考虑整体，能否以改动最少且方便后续拓展的做法实现，不要一位打补丁
        - 出包前检查所有图集
            - 有两张图集未出现检查符号，忽略查看，结果出现一张bg图与一张带透明通道的图片打在一个图集...
        - 出包前预制Image转SDImage
            - 这版本有个同学的一个item预制不需要转SDImage，结果造成上线后需要热更修复掉的bug，这个就很没必要。下次转换组件的时候需要看一下Log，如有问题跟业务同学确认一下。新增了忽略列表。

- ProjectD
    - 3.2-4.2 项目框架熟悉、大地图业务熟悉、mvc框架整理、需求开发：地图视野拉伸hud显隐、大地图影响力拓张
    - MVP版本  城建民工交互模块
        - 4.6 ~ 4.15（民工逻辑未提供的情况下使用GM指令）
            - 建筑挂接点逻辑开发
            - 表现层面：民工与 多个建筑之间的寻路模块
            - 表现层面：民工动画、建筑交互接入
        - 4.17 ~ 4.22
            - 民工逻辑与服务端对接
        - 4.24 ~ 4.29
            - 民工搬运逻辑开发
    - 试用期任务的月规划
        - 第一个月 3.2 ~ 4.1 客户端业务逻辑框架熟悉、地图框架逻辑熟悉与部分地图功能开发。
        - 第二个月 4.2 ~ 5.1 6月份城建系统的表现开发、地图资源管理优化，包括地图资源加载与释放、迷雾计算。
        - 第三个月 5.5 ~ 6.4 客户端业务模块的资源销毁与重置检查、打包流程熟悉、性能优化工具使用。
    - 工人指令
        - 分隔符为英文逗号：,
        - 工人类型id：
            - Idle = 1, -- 闲置
            - Build = 2,  -- 建造
            - Gathering = 3, -- 采集
            - Carry = 4, -- 搬运
        - 添加工人 addWorker,工人类型id,建筑id，数量， 如：addWorker,1,1001,4
        - 删除工人 deleteWorkers，工人id，工人id... , 如 deleteWorkers，1，2，3，4 删除工人id为1，2，3，4
        - 删除所有工人 clearWorkers
        - 创建行走的工人指令：workwalk,blockid1,blockid2...
        - 增加行走(回到原点)的工人指令， workwalk,blockid1,blockid2...
        - 派遣指定工人前往工人小屋，gotoIdle，建筑id，工人id，工人id，... , 如：gotoIdle,1001，1，2，3，4
        - 派遣指定工人前往建造，gotoBuild,建筑id，工人id，工人id，...
        - 派遣指定工人前往采集，gotoGathering,建筑id，工人id，工人id，...
    - 迷雾、影响力 分帧计算